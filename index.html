<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ImbiLine</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Poppins',sans-serif;
background:#0A1F44;
color:white;
text-align:center;
}
header{padding:20px;}
select,button{
margin-top:15px;
padding:10px;
border-radius:8px;
border:none;
font-size:16px;
}
button{
background:#00BFA5;
color:white;
cursor:pointer;
}
.card{
background:#1565C0;
margin:20px;
padding:20px;
border-radius:15px;
display:none;
}
.nota{
font-size:28px;
font-weight:bold;
margin-top:15px;
}
</style>
</head>

<body>

<header>
<h1>ImbiLine</h1>
<p>PrevisÃ£o TÃ©cnica de Ondas â€¢ Imbituba</p>
</header>

<select id="praia">
<option value="-28.2413,-48.6703">Praia da Vila</option>
<option value="-28.3241,-48.7033">ItapirubÃ¡</option>
<option value="-28.2605,-48.6638">Ribanceira</option>
<option value="-28.1920,-48.6485">Barra de Ibiraquera</option>
<option value="-28.2475,-48.6342">Praia do Porto</option>
</select>

<br>
<button onclick="buscarDados()">Atualizar</button>

<div class="card" id="resultado">
<p id="altura"></p>
<p id="periodo"></p>
<p id="vento"></p>
<div class="nota" id="nota"></div>
<p id="mensagem"></p>
</div>

<script>
async function buscarDados(){
const praia = document.getElementById("praia").value;
const [lat,lng] = praia.split(",");

const url = `https://marine-api.open-meteo.com/v1/marine?latitude=${lat}&longitude=${lng}&hourly=wave_height,wave_period,windspeed_10m`;

const response = await fetch(url);
const data = await response.json();

const altura = data.hourly.wave_height[0];
const periodo = data.hourly.wave_period[0];
const vento = data.hourly.windspeed_10m[0];

let nota=0;
if(altura>1.0) nota+=4;
if(periodo>10) nota+=3;
if(vento<10) nota+=3;

let mensagem="";
if(nota>=8) mensagem="ðŸ”¥ ClÃ¡ssico!";
else if(nota>=5) mensagem="ðŸŒŠ SurfÃ¡vel.";
else mensagem="ðŸ˜• Fraco ou mexido.";

document.getElementById("resultado").style.display="block";
document.getElementById("altura").innerText=`Altura: ${altura.toFixed(2)} m`;
document.getElementById("periodo").innerText=`PerÃ­odo: ${periodo.toFixed(1)} s`;
document.getElementById("vento").innerText=`Vento: ${vento.toFixed(1)} km/h`;
document.getElementById("nota").innerText=`Nota: ${nota}/10`;
document.getElementById("mensagem").innerText=mensagem;
}
</script>

</body>
</html>
